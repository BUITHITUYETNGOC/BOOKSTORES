@model List<CartItem>
@using System.Linq;

<!DOCTYPE html>
<html lang="vi" class="h-100">

<head>
<style>
    .button {
        background-color: #FF7F50;
        border: none;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 8px;
    }
</style>
</head>
<body>

@if (Model == null || !Model.Any())
{
    <p>Your cart is empty.</p>
}
else
{
    <table>
        <tr>
            <th>Image</th>
            <th>Name</th>
            <th>Unit Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th> </th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td><img src="@item.Image" width="50" /></td>
                <td>@item.Name</td>
                <td>@item.UnitPrice</td>
                <td>
                    <input type="number" value="@item.Quantity" onchange="updateCart('@item.ProductId', this.value)" />
                </td>
                <td>@item.Total</td>
                <td>
                    <a asp-action="Delete" asp-route-id="@item.ProductId" class="button" style="background-color: #dc3545; text-decoration: none;">Delete</a>
                </td>
            </tr>
        }
    </table>

    <a href="@Url.Action("Checkout", "Cart")" class="button">Thanh toán</a>
}

<script>
    function updateCart(productId, quantity) {
        var url = '@Url.Action("UpdateCart", "Cart")';
        window.location.href = url + "?productId=" + productId + "&quantity=" + quantity;
    }
</script>
</body>
</html>
